% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/proc.R
\name{proc}
\alias{proc}
\title{Extract procedure cohorts from local data.}
\usage{
proc(
  data,
  proc_group = c("breast cancer screening", "diagnostic mammography",
    "breast ultrasound", "mri of the breast", "needle biopsy",
    "breast specimen radiography", "pathology", "tumor marker testing",
    "breast-conserving surgery", "mastectomy procedure", "breast reconstruction",
    "lymph node procedure", "radiation therapy", "chemotherapy", "follow-up care"),
  patient_id_col = "patient_id",
  code_col = "cpt_code",
  date_col = "proc_date",
  date_format = NULL,
  date_range = NULL,
  min_count = 1,
  first_only = FALSE,
  code_list = NULL
)
}
\arguments{
\item{data}{Data frame or tibble with procedure records.}

\item{proc_group}{The procedure group or groups to be included.  Options are
'breast cancer screening', 'diagnostic mammography', 'breast ultrasound',
'mri of the breast', 'needle biopsy', 'breast specimen radiography', 'pathology',
'tumor marker testing', 'breast-conserving surgery', 'mastectomy procedure',
'breast reconstruction', 'lymph node procedure', 'radiation therapy', 'chemotherapy',
and 'follow-up care'.}

\item{patient_id_col}{Name of patient id column (default "patient_id").}

\item{code_col}{Name of procedure code column (default "cpt_code").}

\item{date_col}{Name of procedure date column (default "proc_date").}

\item{date_format}{Optional date format for as.Date if date_col is character.}

\item{date_range}{Optional c(start, end) to limit procedures considered.}

\item{min_count}{Minimum number of matching procedures to qualify for cohort (default 1).}

\item{first_only}{Logical; if TRUE cohort_start is first match and only that is used for inclusion (default FALSE).}

\item{code_list}{An optional custom dataframe or tibble of codes to use.}
}
\value{
tibble of cohorts (patient_id, cohort_name, cohort_count, cohort_start,
cohort_end, sample_codes, proc_flag).
}
\description{
Extract procedure cohorts from local data.
}
